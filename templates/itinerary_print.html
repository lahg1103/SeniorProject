{% extends "base.html" %}
{% block content %}

<style>
    /* PRINT STYLES */
    body {
        background: white !important;
        color: black !important;
    }

    .print-container {
        max-width: 800px;
        margin: auto;
        padding: 2rem;
        font-family: Arial, sans-serif;
        color: #000;
    }

    h1, h2, h3 {
        font-weight: 700;
        color: #000;
        margin-bottom: 0.5rem;
    }

    .day-block {
        border-top: 1px solid #000;
        padding-top: 1.5rem;
        margin-top: 2rem;
    }

    .section {
        margin-bottom: 1.2rem;
    }

    .label {
        font-weight: 600;
        text-transform: uppercase;
        font-size: 0.85rem;
        margin-bottom: 0.2rem;
    }

    .footer-print {
        margin-top: 3rem;
        font-size: 0.75rem;
        text-align: center;
        color: #444;
    }

    @media print {
        .no-print { display: none !important; }
    }
</style>

<div class="print-container">

    <div class="no-print" style="margin-bottom: 1rem;">
        <a href="{{ url_for('itinerary.display_itinerary', itinerary_id=itinerary_id) }}">← Back to Full Itinerary</a>
    </div>

    <h1>Trip Itinerary</h1>
    <p><strong>Generated on:</strong> {{ now().strftime("%B %d, %Y") }}</p>
    <p><strong>Destination:</strong> {{ results.city }}</p>

    {% for day in results.itineraryperday %}
    <div class="day-block">

        <h2>Day {{ loop.index }}</h2>
        <p>{{ day.daysummary }}</p>

        <div class="section">
            <div class="label">Lodging</div>
            <div>{{ day.lodging.name }} — {{ day.lodging.address }}</div>
        </div>

        <div class="section">
            <div class="label">Breakfast</div>
            <div>{{ day.food.breakfast.restaurant }} — {{ day.food.breakfast.address }}</div>
        </div>

        <div class="section">
            <div class="label">Morning Activity</div>
            <div>{{ day.timeblocks.morning[0].name }}</div>
        </div>

        <div class="section">
            <div class="label">Lunch</div>
            <div>{{ day.food.lunch.restaurant }} — {{ day.food.lunch.address }}</div>
        </div>

        <div class="section">
            <div class="label">Afternoon Activity</div>
            <div>{{ day.timeblocks.afternoon[0].name }}</div>
        </div>

        <div class="section">
            <div class="label">Dinner</div>
            <div>{{ day.food.dinner.restaurant }} — {{ day.food.dinner.address }}</div>
        </div>

        <div class="section">
            <div class="label">Evening Activity</div>
            <div>{{ day.timeblocks.evening[0].name }}</div>
        </div>

    </div>
    {% endfor %}

    <div class="footer-print">
        Itinerary ID: {{ itinerary_id }} •  
        View full version at: {{ url_for('itinerary.display_itinerary', itinerary_id=itinerary_id, _external=True) }}
    </div>

</div>

{% endblock %}
